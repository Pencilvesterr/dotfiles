{
  "permissions": {
    "allow": [
      "Read",
      "Bash",
      "WebFetch",
      "WebSearch"
    ],
    "deny": [
      "Read(~/.ssh/**)",
      "Read(~/.gnupg/**)",
      "Edit(~/.ssh/**)",
      "Edit(~/.gnupg/**)",
      "Read(**/.env)",
      "Read(**/.env.*)",
      "Edit(**/.env)",
      "Edit(**/.env.*)"
    ],
    "ask": [
      "Bash(rm -rf *)",
      "Bash(git push *)",
      "Bash(git push)",
      "Bash(git reset --hard *)",
      "Bash(git checkout *)",
      "Bash(git clean *)",
      "Bash(git branch -D *)",
      "Bash(git push --force *)",
      "Bash(git rebase *)",
      "Bash(sudo *)",
      "Bash(kill *)",
      "Bash(killall *)",
      "Bash(pkill *)",
      "Bash(chmod *)",
      "Bash(chown *)"
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "input=$(cat); cwd=$(echo \"$input\" | jq -r '.workspace.current_dir'); dark_blue='\\033[1;34m'; green='\\033[0;32m'; red='\\033[1;31m'; gray='\\033[0;90m'; white='\\033[0;37m'; yellow='\\033[0;33m'; reset='\\033[0m'; status_parts=\"\"; dir_name=$(basename \"$cwd\"); parent_dir=$(dirname \"$cwd\"); parent_name=$(basename \"$parent_dir\"); if [ \"$parent_dir\" = \"$HOME\" ]; then dir_display=\"~/$dir_name\"; elif [ \"$cwd\" = \"$HOME\" ]; then dir_display=\"~\"; elif [ \"$parent_dir\" = \"/\" ]; then dir_display=\"/$dir_name\"; else dir_display=\"…/$parent_name/$dir_name\"; fi; status_parts=\"${status_parts}$(printf \"${dark_blue}${dir_display} ${reset}\")\"; if git -C \"$cwd\" rev-parse --git-dir > /dev/null 2>&1; then branch=$(git -C \"$cwd\" -c \"gc.auto=0\" -c \"fetch.negotiationAlgorithm=default\" branch --show-current 2>/dev/null); if [ -n \"$branch\" ]; then status_parts=\"${status_parts}$(printf \"${white}on ${green} ${branch} ${reset}\")\"; git_status=$(git -C \"$cwd\" -c \"gc.auto=0\" -c \"fetch.negotiationAlgorithm=default\" status --porcelain 2>/dev/null); indicators=\"\"; if [ -n \"$git_status\" ]; then modified=$(echo \"$git_status\" | grep -c \"^ M\" || true); untracked=$(echo \"$git_status\" | grep -c \"^??\" || true); staged=$(echo \"$git_status\" | grep -c \"^[AM]\" || true); deleted=$(echo \"$git_status\" | grep -c \"^ D\" || true); [ \"$modified\" -gt 0 ] && indicators=\"${indicators}!${modified}\"; [ \"$untracked\" -gt 0 ] && indicators=\"${indicators}?${untracked}\"; [ \"$staged\" -gt 0 ] && indicators=\"${indicators}+${staged}\"; [ \"$deleted\" -gt 0 ] && indicators=\"${indicators}✘${deleted}\"; if [ -n \"$indicators\" ]; then status_parts=\"${status_parts}$(printf \"${red}[${indicators}] ${reset}\")\"; fi; fi; fi; fi; usage=$(echo \"$input\" | jq '.context_window.current_usage'); if [ \"$usage\" != \"null\" ]; then current=$(echo \"$usage\" | jq '.input_tokens + .cache_creation_input_tokens + .cache_read_input_tokens'); size=$(echo \"$input\" | jq '.context_window.context_window_size'); pct=$((current * 100 / size)); color=\"$gray\"; if [ $pct -ge 80 ]; then color=\"$red\"; elif [ $pct -ge 60 ]; then color=\"$yellow\"; fi; status_parts=\"${status_parts}$(printf \"${color}${pct}%% ctx${reset}\")\"; fi; printf \"%b\" \"$status_parts\" | sed 's/ $//'"
  },
  "effortLevel": "medium"
}
